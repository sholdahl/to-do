(()=>{"use strict";const e={groups:[{groupTitle:"General",todoArray:[{title:"Example Title",desc:"This is an example description of the to-do",dueDate:"2020-11-20",priority:"Low",notes:"This is an example of a note.",complete:!0}]}]},t=()=>{let t=document.querySelector(".group-name-to-edit").textContent,o=document.querySelector("#edit-group-title-input").value;if(t!==o){let d=e.groups.findIndex((e=>e.groupTitle===t));e.groups[d].groupTitle=o}l.clearPage(),l.page(e),l.toggleOverlay(),l.togglePopUp(".eg-pop-up")},o=()=>{let t=document.querySelector(".group-name-to-edit").textContent;document.querySelectorAll(".group-wrapper").forEach((e=>{e.dataset.group===t&&e.remove()})),(t=>{let o=e.groups.findIndex((e=>e.groupTitle===t));e.groups.splice(o,1)})(t),l.toggleOverlay(),l.togglePopUp(".eg-pop-up")},d=()=>{let t=document.querySelector("#new-tasks-group").textContent;((t,o,d,r,l,n,a)=>{let c=((e,t,o,d,r,l,n)=>({title:e,desc:t,dueDate:o,priority:d,notes:r,complete:l,targetGroup:n}))(t,o,d,r,l,n,a);e.groups.forEach((e=>{if(e.groupTitle===a)return e.todoArray.push(c),console.log(`A new to-do titled ${t} was added to ${a}. New to-do data below:`),void console.table(c)}))})(document.querySelector("#new-task-title-input").value,document.querySelector("#new-task-desc-input").value,document.querySelector("#new-task-due-date-input").value,document.querySelector("#new-task-priority-input").value,document.querySelector("#new-task-notes-input").value,!1,t),l.clearPage(),l.page(e),l.toggleOverlay(),l.togglePopUp(".nt-pop-up"),document.querySelector("#new-tasks-group").textContent="",document.querySelector("#new-task-title-input").value="",document.querySelector("#new-task-desc-input").value="",document.querySelector("#new-task-due-date-input").value="",document.querySelector("#new-task-priority-input").value="",document.querySelector("#new-task-notes-input").value=""},r={createTodoDom:e=>{let t=document.createElement("div"),o=document.createElement("div"),d=document.createElement("input"),r=document.createElement("div"),l=document.createElement("div"),n=document.createElement("div"),a=document.createElement("span");return t.classList.add("row","no-gutters","todo-rows"),o.classList.add("col-10","col-sm-6","col-md-7","todo-title"),d.classList.add("todo-complete"),r.classList.add("col-2","todo-priority","d-none","d-sm-block"),l.classList.add("col-3","col-md-2","todo-due-date","d-none","d-sm-block"),n.classList.add("col-2","col-sm-1","todo-edit"),a.textContent=e.title,d.checked=e.complete,d.type="checkbox",r.textContent=e.priority,l.textContent=e.dueDate,n.textContent="...",o.appendChild(d),o.appendChild(a),t.appendChild(o),t.appendChild(r),t.appendChild(l),t.appendChild(n),t},createGroupDom:e=>{let t=document.createElement("div"),o=document.createElement("div"),d=document.createElement("div"),l=document.createElement("h3"),n=document.createElement("div"),a=document.createElement("h3"),c=document.createElement("div"),u=document.createElement("div"),i=document.createElement("span"),p=document.createElement("div"),s=document.createElement("div"),m=document.createElement("div"),g=document.createElement("div"),y=document.createElement("div");return t.classList.add("group-wrapper"),o.classList.add("row","no-gutters"),d.classList.add("col-10","col-sm-11"),l.classList.add("group-title"),n.classList.add("col-2","col-sm-1"),a.classList.add("group-edit"),c.classList.add("todo-wrapper"),u.classList.add("col-12"),i.classList.add("new-todo"),p.classList.add("row","no-gutters","todo-header-row"),s.classList.add("col-10","col-sm-6","col-md-7","todo-table-title","todo-title-title"),m.classList.add("col-2","todo-table-title","todo-priority-title","d-none","d-sm-block"),g.classList.add("col-3","col-md-2","todo-table-title","todo-due-title-date","d-none","d-sm-block"),y.classList.add("col-2","col-sm-1","todo-table-title","todo-edit-title"),t.setAttribute("data-group",e.groupTitle),l.textContent=e.groupTitle,a.textContent="...",i.textContent="+ Add New Task",s.textContent="Title",m.textContent="Priority",g.textContent="Due Date",p.appendChild(s),p.appendChild(m),p.appendChild(g),p.appendChild(y),c.appendChild(p),e.todoArray.length>0&&e.todoArray.forEach((e=>{let t=r.createTodoDom(e);c.appendChild(t)})),d.appendChild(l),n.appendChild(a),o.appendChild(d),o.appendChild(n),u.appendChild(i),t.appendChild(o),t.appendChild(c),t.appendChild(u),t}},l={page:e=>{e.groups.forEach((e=>{let t=r.createGroupDom(e);document.querySelector("#todo-container").appendChild(t)})),n.editGroupForm(),n.newTaskForm(),n.editTaskForm()},initialPage:e=>{e.groups.forEach((e=>{let t=r.createGroupDom(e);document.querySelector("#todo-container").appendChild(t)})),n.newGroupForm(),n.formCloseBtns(),n.editGroupForm(),n.newTaskForm(),n.editTaskForm()},clearPage:()=>{let e=document.querySelector("#todo-container");for(;e.firstChild;)e.removeChild(e.lastChild)},newGroup:e=>{document.querySelector("#todo-container").appendChild(e)},toggleOverlay:()=>{document.querySelector("#overlay").classList.toggle("overlay-active")},editGroupForm:e=>{let t=e.path[3].dataset.group,o=document.querySelector(".group-name-to-edit"),d=document.querySelector("#edit-group-title-input");o.textContent=t,d.value=t,l.toggleOverlay(),l.togglePopUp(".eg-pop-up")},togglePopUp:e=>{document.querySelector(e).classList.toggle("hidden")},newTaskForm:e=>{let t=e.path[2].dataset.group;document.querySelector("#new-tasks-group").textContent=t,l.togglePopUp(".nt-pop-up"),l.toggleOverlay()},updateDisplayData:()=>{document.querySelectorAll(".group-wrapper").forEach((e=>{let t=e.dataset.group,o=e.childNodes[0].childNodes[0].childNodes[0].textContent;o=t}))},editTaskForm:t=>{let o=t.path[3].dataset.group,d=t.path[1].childNodes[0].childNodes[1].textContent,r=document.querySelector("#task-name-to-edit"),n=document.querySelector("#edit-task-title-input"),a=document.querySelector("#edit-task-desc-input"),c=document.querySelector("#edit-task-due-date-input"),u=document.querySelector("#edit-task-priority-input"),i=document.querySelector("#edit-task-notes-input"),p=e.groups.findIndex((e=>e.groupTitle===o)),s=e.groups[p].todoArray.findIndex((e=>e.title===d));a.value=e.groups[p].todoArray[s].desc,c.value=e.groups[p].todoArray[s].dueDate,u.value=e.groups[p].todoArray[s].priority.toLowerCase(),i.value=e.groups[p].todoArray[s].notes,r.textContent=d,r.dataset.group=o,n.value=d,l.toggleOverlay(),l.togglePopUp(".et-pop-up")}},n={newGroupForm:()=>{let e=document.querySelector("#overlay"),t=document.querySelector(".ng-pop-up");document.querySelector("#add-group-nav-btn").addEventListener("click",(()=>{e.classList.toggle("overlay-active"),t.classList.toggle("hidden")}))},editGroupForm:()=>{document.querySelectorAll(".group-edit").forEach((e=>{e.addEventListener("click",l.editGroupForm)})),document.querySelector("#edit-group-form-btn").addEventListener("click",t),document.querySelector("#delete-group-form-btn").addEventListener("click",o)},formCloseBtns:()=>{let e=document.querySelectorAll(".close-popup"),t=e=>{e.path[5].classList.toggle("hidden"),l.toggleOverlay()};e.forEach((e=>{e.addEventListener("click",t)}))},newTaskForm:()=>{let e=document.querySelectorAll(".new-todo"),t=document.querySelector("#new-task-btn");e.forEach((e=>{e.addEventListener("click",l.newTaskForm)})),t.addEventListener("click",d)},editTaskForm:()=>{document.querySelectorAll(".todo-edit").forEach((e=>{e.addEventListener("click",l.editTaskForm)}))}};document.querySelector("#new-group-btn").addEventListener("click",(()=>{(t=>{let o=(e=>({groupTitle:e,todoArray:[]}))(t);e.groups.push(o),console.log(`A new to-do group titled ${t} was added. New to-do Group data below:`),console.table(o)})(document.querySelector("#new-group-title-input").value),l.clearPage(),l.page(e),l.toggleOverlay(),l.togglePopUp(".ng-pop-up"),document.querySelector("#new-group-title-input").value=""})),l.initialPage(e)})();