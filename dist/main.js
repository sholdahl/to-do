(()=>{"use strict";const e=(e,o,d,r,l,a,n,c)=>{t.groups.forEach((t=>{t.groupTitle===e&&(t.todoArray[o]&&console.log("A record was found to update! Original to-do:"),console.table(t.todoArray[o]),console.log(null==r),t.todoArray[o].complete!==d&&null!==d&&(t.todoArray[o].complete=d),t.todoArray[o].title!==r&&null!==r&&(t.todoArray[o].title=r),t.todoArray[o].desc!==l&&null!==l&&(t.todoArray[o].desc=l),t.todoArray[o].dueDate!==a&&null!==a&&(t.todoArray[o].dueDate=a),t.todoArray[o].priority!==n&&null!==n&&(t.todoArray[o].priority=n),t.todoArray[o].notes!==c&&null!==c&&(t.todoArray[o].notes=c),console.log("The record has been updated. Updated to-do:"),console.table(t.todoArray[o]))}))},t={groups:[{groupTitle:"General",todoArray:[{title:"Example Title",desc:"This is an example description of the to-do",dueDate:"2020-11-20",priority:"Low",notes:"This is an example of a note.",complete:!0}]}]},o=()=>{let e=document.querySelector(".group-name-to-edit").textContent,o=document.querySelector("#edit-group-title-input").value;if(e!==o){let d=t.groups.findIndex((t=>t.groupTitle===e));t.groups[d].groupTitle=o}u.clearPage(),u.page(t),u.toggleOverlay(),u.togglePopUp(".eg-pop-up")},d=()=>{let e=document.querySelector(".group-name-to-edit").textContent;document.querySelectorAll(".group-wrapper").forEach((t=>{t.dataset.group===e&&t.remove()})),(e=>{let o=t.groups.findIndex((t=>t.groupTitle===e));t.groups.splice(o,1)})(e),u.toggleOverlay(),u.togglePopUp(".eg-pop-up")},r=()=>{let e=document.querySelector("#new-tasks-group").textContent;((e,o,d,r,l,a,n)=>{let c=((e,t,o,d,r,l,a)=>({title:e,desc:t,dueDate:o,priority:d,notes:r,complete:l,targetGroup:a}))(e,o,d,r,l,a,n);t.groups.forEach((t=>{if(t.groupTitle===n)return t.todoArray.push(c),console.log(`A new to-do titled ${e} was added to ${n}. New to-do data below:`),void console.table(c)}))})(document.querySelector("#new-task-title-input").value,document.querySelector("#new-task-desc-input").value,document.querySelector("#new-task-due-date-input").value,document.querySelector("#new-task-priority-input").value,document.querySelector("#new-task-notes-input").value,!1,e),u.clearPage(),u.page(t),u.toggleOverlay(),u.togglePopUp(".nt-pop-up"),document.querySelector("#new-tasks-group").textContent="",document.querySelector("#new-task-title-input").value="",document.querySelector("#new-task-desc-input").value="",document.querySelector("#new-task-due-date-input").value="",document.querySelector("#new-task-priority-input").value="",document.querySelector("#new-task-notes-input").value=""},l=()=>{let o=document.querySelector("#edit-task-title-input").value,d=document.querySelector("#edit-task-desc-input").value,r=document.querySelector("#edit-task-due-date-input").value,l=document.querySelector("#edit-task-priority-input").value,a=document.querySelector("#edit-task-notes-input").value,n=document.querySelector("#task-name-to-edit").dataset.group,c=document.querySelector("#task-name-to-edit").dataset.taskIndex,p=document.querySelector("#edit-task-completed").checked;e(n,c,p,o,d,r,l,a),u.clearPage(),u.page(t),u.toggleOverlay(),u.togglePopUp(".et-pop-up")},a=()=>{let e=document.querySelector("#task-name-to-edit").dataset.group,o=document.querySelector("#task-name-to-edit").dataset.taskIndex;var d,r;d=e,r=o,t.groups.forEach((e=>{e.groupTitle===d&&e.todoArray.splice(parseInt(r),1)})),u.clearPage(),u.page(t),u.toggleOverlay(),u.togglePopUp(".et-pop-up")},n=o=>{console.log(o.path[1].childNodes[1].textContent);const d=o.path[4].dataset.group,r=o.path[1].childNodes[1].textContent,l=o.path[0].checked,a=t.groups.findIndex((e=>e.groupTitle===d)),n=t.groups[a].todoArray.findIndex((e=>e.title===r)),c=t.groups[a].todoArray[n].title,u=t.groups[a].todoArray[n].desc,p=t.groups[a].todoArray[n].dueDate,i=t.groups[a].todoArray[n].priority,s=t.groups[a].todoArray[n].notes;e(d,n,l,c,u,p,i,s),console.log(t.groups[a].todoArray[n])},c={createTodoDom:e=>{let t=document.createElement("div"),o=document.createElement("div"),d=document.createElement("input"),r=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),n=document.createElement("span");return t.classList.add("row","no-gutters","todo-rows"),o.classList.add("col-10","col-sm-6","col-md-7","todo-title"),d.classList.add("todo-complete"),r.classList.add("col-2","todo-priority","d-none","d-sm-block"),l.classList.add("col-3","col-md-2","todo-due-date","d-none","d-sm-block"),a.classList.add("col-2","col-sm-1","todo-edit"),n.textContent=e.title,d.checked=e.complete,d.type="checkbox",r.textContent=e.priority,l.textContent=e.dueDate,a.textContent="...",o.appendChild(d),o.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(l),t.appendChild(a),t},createGroupDom:e=>{let t=document.createElement("div"),o=document.createElement("div"),d=document.createElement("div"),r=document.createElement("h3"),l=document.createElement("div"),a=document.createElement("h3"),n=document.createElement("div"),u=document.createElement("div"),p=document.createElement("span"),i=document.createElement("div"),s=document.createElement("div"),m=document.createElement("div"),g=document.createElement("div"),y=document.createElement("div");return t.classList.add("group-wrapper"),o.classList.add("row","no-gutters"),d.classList.add("col-10","col-sm-11"),r.classList.add("group-title"),l.classList.add("col-2","col-sm-1"),a.classList.add("group-edit"),n.classList.add("todo-wrapper"),u.classList.add("col-12"),p.classList.add("new-todo"),i.classList.add("row","no-gutters","todo-header-row"),s.classList.add("col-10","col-sm-6","col-md-7","todo-table-title","todo-title-title"),m.classList.add("col-2","todo-table-title","todo-priority-title","d-none","d-sm-block"),g.classList.add("col-3","col-md-2","todo-table-title","todo-due-title-date","d-none","d-sm-block"),y.classList.add("col-2","col-sm-1","todo-table-title","todo-edit-title"),t.setAttribute("data-group",e.groupTitle),r.textContent=e.groupTitle,a.textContent="...",p.textContent="+ Add New Task",s.textContent="Title",m.textContent="Priority",g.textContent="Due Date",i.appendChild(s),i.appendChild(m),i.appendChild(g),i.appendChild(y),n.appendChild(i),e.todoArray.length>0&&e.todoArray.forEach((e=>{let t=c.createTodoDom(e);n.appendChild(t)})),d.appendChild(r),l.appendChild(a),o.appendChild(d),o.appendChild(l),u.appendChild(p),t.appendChild(o),t.appendChild(n),t.appendChild(u),t}},u={page:e=>{e.groups.forEach((e=>{let t=c.createGroupDom(e);document.querySelector("#todo-container").appendChild(t)})),p.editGroupForm(),p.newTaskForm(),p.editTaskForm(),p.completeBtns()},initialPage:e=>{e.groups.forEach((e=>{let t=c.createGroupDom(e);document.querySelector("#todo-container").appendChild(t)})),p.newGroupForm(),p.formCloseBtns(),p.editGroupForm(),p.newTaskForm(),p.editTaskForm(),p.completeBtns()},clearPage:()=>{let e=document.querySelector("#todo-container");for(;e.firstChild;)e.removeChild(e.lastChild)},newGroup:e=>{document.querySelector("#todo-container").appendChild(e)},toggleOverlay:()=>{document.querySelector("#overlay").classList.toggle("overlay-active")},editGroupForm:e=>{let t=e.path[3].dataset.group,o=document.querySelector(".group-name-to-edit"),d=document.querySelector("#edit-group-title-input");o.textContent=t,d.value=t,u.toggleOverlay(),u.togglePopUp(".eg-pop-up")},togglePopUp:e=>{document.querySelector(e).classList.toggle("hidden")},newTaskForm:e=>{let t=e.path[2].dataset.group;document.querySelector("#new-tasks-group").textContent=t,u.togglePopUp(".nt-pop-up"),u.toggleOverlay()},updateDisplayData:()=>{document.querySelectorAll(".group-wrapper").forEach((e=>{let t=e.dataset.group,o=e.childNodes[0].childNodes[0].childNodes[0].textContent;o=t}))},editTaskForm:e=>{let o=e.path[3].dataset.group,d=e.path[1].childNodes[0].childNodes[1].textContent,r=document.querySelector("#task-name-to-edit"),l=document.querySelector("#edit-task-title-input"),a=document.querySelector("#edit-task-desc-input"),n=document.querySelector("#edit-task-due-date-input"),c=document.querySelector("#edit-task-priority-input"),p=document.querySelector("#edit-task-notes-input"),i=document.querySelector("#edit-task-completed"),s=t.groups.findIndex((e=>e.groupTitle===o)),m=t.groups[s].todoArray.findIndex((e=>e.title===d));a.value=t.groups[s].todoArray[m].desc,n.value=t.groups[s].todoArray[m].dueDate,c.value=t.groups[s].todoArray[m].priority.toLowerCase(),p.value=t.groups[s].todoArray[m].notes,i.checked=t.groups[s].todoArray[m].complete,r.textContent=d,r.dataset.group=o,r.dataset.taskIndex=m,l.value=d,u.toggleOverlay(),u.togglePopUp(".et-pop-up")}},p={newGroupForm:()=>{let e=document.querySelector("#overlay"),t=document.querySelector(".ng-pop-up");document.querySelector("#add-group-nav-btn").addEventListener("click",(()=>{e.classList.toggle("overlay-active"),t.classList.toggle("hidden")}))},editGroupForm:()=>{document.querySelectorAll(".group-edit").forEach((e=>{e.addEventListener("click",u.editGroupForm)})),document.querySelector("#edit-group-form-btn").addEventListener("click",o),document.querySelector("#delete-group-form-btn").addEventListener("click",d)},formCloseBtns:()=>{let e=document.querySelectorAll(".close-popup"),t=e=>{e.path[5].classList.toggle("hidden"),u.toggleOverlay()};e.forEach((e=>{e.addEventListener("click",t)}))},newTaskForm:()=>{let e=document.querySelectorAll(".new-todo"),t=document.querySelector("#new-task-btn");e.forEach((e=>{e.addEventListener("click",u.newTaskForm)})),t.addEventListener("click",r)},editTaskForm:()=>{document.querySelectorAll(".todo-edit").forEach((e=>{e.addEventListener("click",u.editTaskForm)})),document.querySelector("#edit-task-form-btn").addEventListener("click",l),document.querySelector("#delete-task-form-btn").addEventListener("click",a)},completeBtns:()=>{document.querySelectorAll(".todo-complete").forEach((e=>{e.addEventListener("click",n)}))}};document.querySelector("#new-group-btn").addEventListener("click",(()=>{(e=>{let o=(e=>({groupTitle:e,todoArray:[]}))(e);t.groups.push(o),console.log(`A new to-do group titled ${e} was added. New to-do Group data below:`),console.table(o)})(document.querySelector("#new-group-title-input").value),u.clearPage(),u.page(t),u.toggleOverlay(),u.togglePopUp(".ng-pop-up"),document.querySelector("#new-group-title-input").value=""})),u.initialPage(t)})();